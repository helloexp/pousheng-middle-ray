logging:
  level:
    root: INFO
    org.springframework: INFO
    io.terminus.session: ERROR
    com.alibaba.dubbo: ERROR
    io.terminus.open.client: DEBUG
    MiddleUser: DEBUG
    com.pousheng: DEBUG
  path: /var/logs/pousheng


server:
  context-path: /
  port: 8082


spring:
  datasource:
    url: jdbc:mysql://${POUSHENG_MIDDLE_MYSQL_HOST}:${POUSHENG_MIDDLE_MYSQL_PORT}/${POUSHENG_MIDDLE_MYSQL_DATABASE}?useUnicode=true&characterEncoding=UTF8
    username: ${POUSHENG_MIDDLE_MYSQL_USERNAME}
    password: ${POUSHENG_MIDDLE_MYSQL_PASSWORD}
    initialize: false
    continue-on-error: false
    hikari:
      maximum-pool-size: 50
      minimum-idle: 10
      idle-timeout: 30000
      max-lifetime: 30000
      connection-timeout: 30000
      validation-timeout: 15000
  application:
    name: pousheng-middle
  messages:
    basename: middle_messages

mybatis:
  mapper-locations: classpath*:mapper/*Mapper.xml
  type-aliases-package: >
        com.pousheng.(erp|auth).model,
        com.pousheng.middle.warehouse.model,
        com.pousheng.middle.order.model,
        io.terminus.parana.(item|category|brand|spu|shop).model,
        io.terminus.parana.(order|cart|express|promotion|delivery|settle|auth).model,
        io.terminus.open.client.common.(mappings|token|shop).model,
        io.terminus.open.client.item.model




session:
  cookie-context-path: /
  cookie-domain: pousheng.com
  cookie-name: msid
  cookie-max-age: 604800
  max-inactive-interval: 604800
  source: redis
  serialize-type: json
  redis-host: ${POUSHENG_REDIS_HOST}
  redis-port: ${POUSHENG_REDIS_PORT}
  redis-auth: ${POUSHENG_REDIS_PASSWORD}
  redis-index: 0
  redis-cluster: false
  redis-test-on-borrow: true
  redis-max-total: 10
  redis-max-idle: 0
  redis-prefix: afsession

redis:
  host: ${POUSHENG_REDIS_HOST}
  port: ${POUSHENG_REDIS_PORT}
  auth: ${POUSHENG_REDIS_PASSWORD}
  max-total: 10
  max-idle: 2
  test-on-borrow: true


rpc.mode: false
rpc.dubbo:
  module: pousheng-middle
  registryAddress: ${POUSHENG_ZK_HOST}:${POUSHENG_ZK_PORT}

gateway:
  erp:
    host: ${ERP_HOST}
    accessKey: ${ERP_ACCESS_KEY}
  member:
    host: ${MEMBER_CENTER_GATEWAY}
  hk:
    host: ${HK_HOST}
    accessKey: ${HK_ACCESS_KEY}
  parana:
    host: ${PARANA_HOST}

open.api.app.key: ${OPEN_API_APP_KEY}
open.api.secret: ${OPEN_API_SECRET}
open.api.gateway: ${OPEN_API_GATEWAY}


azure:
  oss:
    defaultEndpointsProtocol: https
    accountName: f2wossfilehdd
    accountKey: GiDg58DcAx8fLBQYqhjnMmKiOgHntWlexP1ZIDwCIdOEQr/IuAl6NQiy6m7Zl+rSU6ynxUJXufAEGYG3+NB2MQ==
    endpointSuffix: core.chinacloudapi.cn

erp.token:
  appKey: terminus-erp
  secret: anywhere-erp
  gateway: http://erp-api.terminus.io/api/gateway

ych.token:
  appKey: 68757056
  secret: 2jodLU2IMIwn0cH8kcIY
  gateway: http://account.ose.aliyun.com
  gatewayOfLog: http://gw.ose.aliyun.com/event
  clientIp: 42.159.144.178

taobao.token:
  appKey: 24581672
  appName: 端点中台


curator:
  zk.host: ${POUSHENG_ZK_HOST}
  zk.port: ${POUSHENG_ZK_PORT}
  leader.path: /middle
## 这个是开启写入订单和售后单，供roger进行压测，压测后去掉这个配置
open.client.import.enable: true



search:
  host: ${POUSHENG_ES_HOST}
  port: ${POUSHENG_ES_PORT}

skutemplate:
  search:
    index-name: skutemplates
    index-type: skutemplate
    mapping-path: ps_sku_template_mapping.json
    full-dump-range: -1
    batch-size: 100

gd_map:
  searchApi: 'http://restapi.amap.com/v3/place/text'
  districtApi: 'http://restapi.amap.com/v3/place/text'
  webKey: 'd6e5c2d8e1ae82dd53e5829034145b64'

index.queue.size: 500000

# mpos系统调用的api白名单
mpos.white.url.list: '/api/middle/sku/template/search,/api/middle/region/.*,/api/middle/address/.*,/api/middle/task/count/stock/.*'

# mpos总单OpenShopId
mpos.open.shop.id: ${MPOS_OPEN_SHOP_ID}